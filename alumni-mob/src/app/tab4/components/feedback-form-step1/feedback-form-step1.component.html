<app-feedback-form-header></app-feedback-form-header>

<ion-content class="ion-padding">
  <div class="feedback-form-step-purpose"><h3>Choix de l'entreprise</h3></div>
  
  <ion-item>
    <p>Renseigner un avis sur votre entreprise actuelle  </p>
    <ion-checkbox [(ngModel)]="isChecked" (ionChange)="getIntern()"></ion-checkbox>
  </ion-item>
  <p> ou </p>
  <p>chercher une entreprise dans notre BDD</p>
  <ion-item>
    <ion-input  
      placeholder="Entrer le nom d'entreprise"
      [(ngModel)]="inputModel" 
      (ionInput)="onInput($event)" 
      [clearInput]="true"
    ></ion-input>
  </ion-item>
  <ion-list *ngIf="inputModel && filteredComp.length > 0"> 
    <ion-item *ngFor="let company of filteredComp" (click)="selectCompany(company) ">
      {{ company.name }}
    </ion-item>
  </ion-list>
  <ion-list *ngIf="inputModel && filteredComp.length === 0"> 
    <ion-item lines="none"><p>Cette entreprise n'est pas recensée dans nos bases de données</p></ion-item>
    <ion-item lines="none"><ion-button shape="round" (click)="next()"> Créer l'entreprise ></ion-button></ion-item>
  </ion-list>
  <ion-toolbar class="feedback-form-bottom-toolbar">
    <ion-button (click)="next()" shape="round" [disabled]="inputModel && filteredComp.length === 0 || ready === false ">Suivant <ion-icon name="arrow-forward-outline"></ion-icon></ion-button>
  </ion-toolbar>
  <ion-toolbar class="feedback-form-bottom-toolbar">
    <ion-label>Étape 1/4</ion-label>
  </ion-toolbar>
</ion-content>
